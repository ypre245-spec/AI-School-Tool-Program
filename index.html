<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI School Tool Program | Holiday Edition üéÑ</title>
    
    <!-- Favicon -->
    <link rel="icon" href="https://ui-avatars.com/api/?name=AI+School&background=b91c1c&color=fff&rounded=true" type="image/png">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts: Inter & Mountains of Christmas -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=Mountains+of+Christmas:wght@400;700&display=swap" rel="stylesheet">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        holiday: ['"Mountains of Christmas"', 'cursive'],
                    },
                    colors: {
                        deped: {
                            blue: '#1e3a8a', // Deep Royal Blue
                            red: '#dc2626',  // Vivid Red
                            yellow: '#facc15', // Sun Yellow
                            light: '#f8fafc',
                        },
                        xmas: {
                            red: '#b91c1c',
                            green: '#15803d',
                            gold: '#fbbf24',
                            snow: '#f1f5f9'
                        },
                        wellness: {
                            dark: '#0f172a',
                            purple: '#312e81',
                            text: '#e2e8f0'
                        }
                    },
                    boxShadow: {
                        'glow': '0 0 15px rgba(220, 38, 38, 0.3)',
                        'card-hover': '0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)',
                    },
                    animation: {
                        'float': 'float 6s ease-in-out infinite',
                        'breathe': 'breathe 4s ease-in-out infinite',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-20px)' },
                        },
                        breathe: {
                            '0%, 100%': { opacity: '0.6', transform: 'scale(1)' },
                            '50%': { opacity: '1', transform: 'scale(1.05)' },
                        }
                    }
                }
            }
        }
    </script>
    
    <style>
        .glass-nav {
            background: rgba(30, 58, 138, 0.95);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
        }
        
        .hero-pattern {
            background-color: #f8fafc;
            background-image: radial-gradient(#b91c1c 0.5px, transparent 0.5px), radial-gradient(#15803d 0.5px, #f8fafc 0.5px);
            background-size: 24px 24px;
            background-position: 0 0, 12px 12px;
            opacity: 0.15;
        }
        
        .chat-pattern {
            background-color: #f8fafc;
            background-image: radial-gradient(rgba(185, 28, 28, 0.05) 1px, transparent 1px), radial-gradient(rgba(21, 128, 61, 0.05) 1px, #f8fafc 1px);
            background-size: 30px 30px;
            background-position: 0 0, 15px 15px;
        }

        /* Wellness Mode Styles */
        body.wellness-active {
            background-color: #0f172a; /* Slate 900 */
            color: #e2e8f0;
            overflow-x: hidden;
        }
        
        body.wellness-active .productivity-zone {
            display: none !important;
        }
        
        body.wellness-active .wellness-zone {
            display: flex !important;
            animation: fadeIn 1s ease-in;
        }

        body.wellness-active .glass-nav {
            background: rgba(15, 23, 42, 0.9);
            border-bottom: 1px solid rgba(255,255,255,0.05);
        }

        body.wellness-active #stories-grid {
            background-color: rgba(30, 41, 59, 0.5); /* Slate 800/50 */
            background-image: none;
        }
        
        body.wellness-active .chat-bubble-bg {
            background-color: #1e293b; /* Slate 800 */
            color: #cbd5e1;
            border-color: #334155;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Scroll Animation Classes */
        .reveal {
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.6s cubic-bezier(0.5, 0, 0, 1);
        }
        .reveal.active {
            opacity: 1;
            transform: translateY(0);
        }
        
        .hidden-tool {
            display: none !important;
        }

        /* Improved Snowflake Animation */
        .snowflake {
            color: #dbeafe;
            font-size: 1.2em;
            font-family: Arial;
            text-shadow: 0 0 5px rgba(255,255,255,0.8);
            position: fixed;
            top: -10%;
            z-index: 9999;
            user-select: none;
            cursor: default;
            animation-name: snowflakes-fall, snowflakes-shake;
            animation-duration: 12s, 4s;
            animation-timing-function: linear, ease-in-out;
            animation-iteration-count: infinite, infinite;
            pointer-events: none;
            opacity: 0.8;
        }
        @keyframes snowflakes-fall {
            0% { top: -10%; }
            100% { top: 100%; }
        }
        @keyframes snowflakes-shake {
            0% { transform: translateX(0px); }
            50% { transform: translateX(80px); }
            100% { transform: translateX(0px); }
        }
        .snowflake:nth-of-type(0) { left: 1%; animation-delay: 0s, 0s; }
        .snowflake:nth-of-type(1) { left: 10%; animation-delay: 1s, 1s; }
        .snowflake:nth-of-type(2) { left: 20%; animation-delay: 6s, .5s; }
        .snowflake:nth-of-type(3) { left: 30%; animation-delay: 4s, 2s; }
        .snowflake:nth-of-type(4) { left: 40%; animation-delay: 2s, 2s; }
        .snowflake:nth-of-type(5) { left: 50%; animation-delay: 8s, 3s; }
        .snowflake:nth-of-type(6) { left: 60%; animation-delay: 6s, 2s; }
        .snowflake:nth-of-type(7) { left: 70%; animation-delay: 2.5s, 1s; }
        .snowflake:nth-of-type(8) { left: 80%; animation-delay: 1s, 0s; }
        .snowflake:nth-of-type(9) { left: 90%; animation-delay: 3s, 1.5s; }

        /* Custom Scrollbar */
        .custom-scroll::-webkit-scrollbar {
            width: 8px;
        }
        .custom-scroll::-webkit-scrollbar-track {
            background: #f1f5f9; 
        }
        .custom-scroll::-webkit-scrollbar-thumb {
            background: #cbd5e1; 
            border-radius: 10px;
            border: 2px solid #f1f5f9;
        }
        .custom-scroll::-webkit-scrollbar-thumb:hover {
            background: #94a3b8; 
        }
        
        .text-glow {
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.5);
        }
        
        /* Date Badge Style */
        .date-badge {
            font-size: 10px;
            color: #94a3b8; /* slate-400 */
            background-color: #f1f5f9; /* slate-100 */
            padding: 4px 12px;
            border-radius: 9999px;
            margin: 16px auto 8px auto; /* Centered with vertical spacing */
            font-weight: 600;
            letter-spacing: 0.05em;
            text-transform: uppercase;
            width: fit-content;
            box-shadow: 0 1px 2px rgba(0,0,0,0.05);
        }
    </style>
</head>
<body class="bg-slate-50 text-slate-800 antialiased flex flex-col min-h-screen font-sans selection:bg-xmas-red selection:text-white transition-colors duration-700">

    <!-- Preloader (Prevents Content Flash) -->
    <div id="initial-loader" class="fixed inset-0 z-[100] bg-slate-50 flex flex-col items-center justify-center transition-opacity duration-700">
        <div class="relative">
             <i class="fa-solid fa-circle-notch fa-spin text-5xl text-deped-blue/20"></i>
             <div class="absolute inset-0 flex items-center justify-center">
                 <i class="fa-solid fa-snowflake text-2xl text-deped-blue animate-pulse"></i>
             </div>
        </div>
        <p class="mt-4 text-slate-400 text-sm font-bold tracking-widest uppercase animate-pulse">Checking Holiday Schedule...</p>
    </div>

    <!-- Snowflakes -->
    <div class="snowflake">‚ùÖ</div>
    <div class="snowflake">‚ùÜ</div>
    <div class="snowflake">‚ùÖ</div>
    <div class="snowflake">‚ùÜ</div>
    <div class="snowflake">‚ùÖ</div>
    <div class="snowflake">‚ùÜ</div>
    <div class="snowflake">‚ùÖ</div>
    <div class="snowflake">‚ùÜ</div>
    <div class="snowflake">‚ùÖ</div>
    <div class="snowflake">‚ùÜ</div>

    <!-- Navigation -->
    <nav class="glass-nav text-white shadow-lg sticky top-0 z-50 border-b border-white/10 transition-all duration-300">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between h-20 items-center">
                <!-- Logo / Brand -->
                <a href="#" class="flex items-center space-x-3 group">
                    <div class="relative transform group-hover:scale-105 transition duration-300">
                        <img src="https://ui-avatars.com/api/?name=AI+School&background=ffffff&color=1e3a8a&size=128&rounded=true&bold=true" 
                             alt="AI School Tool Logo" 
                             class="h-10 w-10 rounded-full shadow-lg ring-2 ring-white/30">
                        <!-- Santa Hat Icon Overlay -->
                        <i class="fa-solid fa-hat-santa text-xmas-red absolute -top-4 -right-2 text-xl drop-shadow-lg transform rotate-12 group-hover:rotate-6 transition"></i>
                    </div>
                    <div>
                        <h1 class="font-holiday font-bold text-2xl leading-tight tracking-wide">AI School Tool</h1>
                        <p id="nav-subtitle" class="text-[10px] text-blue-200 font-medium tracking-widest uppercase bg-blue-900/50 px-2 py-0.5 rounded-full inline-block">Holiday Edition üéÑ</p>
                    </div>
                </a>

                <!-- Desktop Menu -->
                <div class="hidden md:flex space-x-1 items-center">
                    <!-- Wellness Mode Only Links -->
                    <div class="wellness-zone hidden items-center gap-4 text-sm font-medium text-blue-200">
                        <span id="wellness-status"><i class="fa-solid fa-moon mr-2 text-yellow-300"></i>Wellness Mode Active</span>
                    </div>

                    <!-- Productivity Links (Hidden in Wellness Mode) -->
                    <div class="productivity-zone flex space-x-1 items-center">
                        <a href="#home" class="px-4 py-2 rounded-full hover:bg-white/10 transition font-medium text-sm">Home</a>
                        <a href="#tools" class="px-4 py-2 rounded-full hover:bg-white/10 transition font-medium text-sm">AI Gifts</a>
                        <a href="#about" class="px-4 py-2 rounded-full hover:bg-white/10 transition font-medium text-sm">Mission</a>
                    </div>
                    
                    <a href="#community" class="ml-4 bg-gradient-to-r from-xmas-red to-red-600 text-white px-6 py-2.5 rounded-full font-bold transition shadow-lg hover:shadow-glow transform hover:-translate-y-0.5 text-sm flex items-center border border-red-400">
                        <i class="fa-solid fa-comments mr-2"></i> Community Hub
                    </a>
                </div>

                <!-- Mobile Menu Button -->
                <div class="md:hidden flex items-center">
                    <button id="mobile-menu-btn" class="text-white p-2 rounded-lg hover:bg-white/10 focus:outline-none transition">
                        <i class="fa-solid fa-bars text-xl"></i>
                    </button>
                </div>
            </div>
        </div>

        <!-- Mobile Menu Panel -->
        <div id="mobile-menu" class="hidden md:hidden bg-deped-blue border-t border-blue-800 absolute w-full shadow-2xl">
            <div class="px-4 pt-4 pb-6 space-y-2">
                <div class="productivity-zone">
                    <a href="#home" class="block px-4 py-3 rounded-lg hover:bg-blue-800 transition font-medium">Home</a>
                    <a href="#tools" class="block px-4 py-3 rounded-lg hover:bg-blue-800 transition font-medium">AI Gifts</a>
                    <a href="#about" class="block px-4 py-3 rounded-lg hover:bg-blue-800 transition font-medium">Mission</a>
                </div>
                <a href="#community" class="block px-4 py-3 rounded-lg bg-xmas-red text-white hover:bg-red-700 mt-4 text-center font-bold shadow-md">Community Hub</a>
            </div>
        </div>
    </nav>

    <!-- WRAPPER: PRODUCTIVITY ZONE -->
    <div class="productivity-zone">
        <!-- Hero Section -->
        <section id="home" class="relative pt-24 pb-28 overflow-hidden">
            <div class="absolute inset-0 hero-pattern z-0"></div>
            
            <!-- Decorative Elements -->
            <div class="absolute top-0 right-0 -mr-40 -mt-20 w-[500px] h-[500px] rounded-full bg-gradient-to-br from-red-100 to-transparent opacity-60 blur-3xl z-0 animate-pulse" style="animation-duration: 4s;"></div>
            <div class="absolute bottom-0 left-0 -ml-20 -mb-20 w-96 h-96 rounded-full bg-gradient-to-tr from-green-100 to-transparent opacity-60 blur-3xl z-0 animate-pulse" style="animation-duration: 5s;"></div>

            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10 text-center reveal">
                <span class="inline-flex items-center px-4 py-1.5 rounded-full bg-white border border-red-100 shadow-sm text-xmas-red text-xs font-bold tracking-widest uppercase mb-8 hover:scale-105 transition cursor-default">
                    <i class="fa-solid fa-snowflake mr-2 animate-spin-slow"></i> Maligayang Pasko, Teachers!
                </span>
                <h1 class="text-5xl md:text-7xl lg:text-8xl font-bold text-slate-900 tracking-tight mb-8 font-holiday leading-none">
                    Unwrap the Gift of <br>
                    <span class="text-transparent bg-clip-text bg-gradient-to-r from-xmas-red via-red-600 to-xmas-green drop-shadow-sm pb-2">Smart AI Tools</span>
                </h1>
                <p class="mt-4 max-w-2xl mx-auto text-xl text-slate-600 leading-relaxed font-light">
                    This holiday season, give yourself the gift of <span class="font-semibold text-slate-800">time</span>. Streamline your planning, simplify your grading, and focus on the joy of teaching.
                </p>
                <div class="mt-12 flex flex-col sm:flex-row justify-center gap-4">
                    <a href="#tools" class="group px-8 py-4 bg-xmas-red text-white rounded-xl font-bold shadow-lg hover:shadow-red-500/30 hover:bg-red-700 transition-all transform hover:-translate-y-1 flex items-center justify-center gap-3 relative overflow-hidden">
                        <div class="absolute inset-0 w-full h-full bg-gradient-to-r from-transparent via-white/20 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-700"></div>
                        <i class="fa-solid fa-gift text-xl"></i> Open Tools
                    </a>
                    <a href="#about" class="px-8 py-4 bg-white text-slate-700 border border-slate-200 rounded-xl font-semibold shadow-sm hover:bg-slate-50 hover:border-slate-300 transition-all flex items-center justify-center gap-2">
                        <i class="fa-solid fa-circle-info text-slate-400"></i> Learn More
                    </a>
                </div>
                
                <!-- Trust Indicators -->
                <div class="mt-12 pt-8 border-t border-slate-200/60 max-w-lg mx-auto flex justify-center items-center gap-6 text-slate-400 text-sm font-medium">
                    <span class="flex items-center gap-2"><i class="fa-solid fa-check text-green-500"></i> Free to Use</span>
                    <span class="flex items-center gap-2"><i class="fa-solid fa-check text-green-500"></i> DepEd Aligned</span>
                    <span class="flex items-center gap-2"><i class="fa-solid fa-check text-green-500"></i> Mobile Ready</span>
                </div>
            </div>
        </section>

        <!-- Voices Section (Spotlight) -->
        <section class="py-16 bg-white border-y border-slate-100 relative z-20">
            <div class="max-w-4xl mx-auto px-4 relative reveal">
                <!-- Floating Decoration -->
                <div class="absolute -top-10 -left-10 text-8xl text-red-50 transform -rotate-12 font-holiday hidden lg:block select-none pointer-events-none">"</div>
                
                <div class="text-center mb-10">
                    <h2 class="text-3xl font-bold text-slate-800 font-holiday">Voices of Our Teachers</h2>
                    <div class="flex justify-center mt-3 space-x-2">
                         <span class="w-1.5 h-1.5 rounded-full bg-xmas-red"></span>
                         <span class="w-8 h-1.5 rounded-full bg-xmas-green"></span>
                         <span class="w-1.5 h-1.5 rounded-full bg-xmas-red"></span>
                    </div>
                </div>

                <!-- Spotlight Card -->
                <div class="relative max-w-3xl mx-auto">
                    <div class="absolute inset-0 bg-gradient-to-r from-red-500 to-green-500 rounded-3xl blur opacity-10 transform translate-y-4"></div>
                    <div class="bg-white rounded-3xl p-8 md:p-12 shadow-xl border border-slate-100 relative overflow-hidden">
                        <!-- Card Decoration -->
                        <div class="absolute top-0 right-0 w-32 h-32 bg-yellow-50 rounded-bl-full opacity-50 -mr-10 -mt-10"></div>
                        
                        <div class="text-center relative z-10">
                            <i class="fa-solid fa-quote-left text-4xl text-slate-200 mb-6 block mx-auto"></i>
                            <div id="spotlight-content" class="min-h-[140px] flex flex-col justify-center items-center transition-opacity duration-500 opacity-100">
                                <p class="text-xl md:text-2xl text-slate-700 font-medium italic mb-6 leading-relaxed font-holiday">"Loading holiday cheer..."</p>
                            </div>
                        </div>
                        
                        <!-- Indicators -->
                        <div id="spotlight-indicators" class="flex justify-center gap-2 mt-2"></div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Tools Section -->
        <section id="tools" class="bg-slate-50 py-24 relative">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <div class="text-center mb-12 reveal">
                    <span class="text-xmas-green font-bold text-sm tracking-widest uppercase mb-2 block">Powered by Gemini</span>
                    <h2 class="text-4xl md:text-5xl font-bold text-slate-900 mb-6 font-holiday"><i class="fa-solid fa-gifts mr-3 text-xmas-red"></i>Digital Stocking Stuffers</h2>
                    <p class="mt-4 text-slate-600 max-w-2xl mx-auto text-lg">
                        Select a tool below to launch the Gemini-powered assistant. <br class="hidden md:block">Designed to be as helpful as Santa's elves!
                    </p>
                </div>

                <!-- Filter Buttons -->
                <div class="flex flex-wrap justify-center gap-3 mb-16 reveal">
                    <button class="filter-btn px-6 py-2.5 rounded-full text-sm font-bold transition-all shadow-sm bg-slate-800 text-white transform hover:-translate-y-0.5" data-filter="all">
                        All Gifts
                    </button>
                    <button class="filter-btn px-6 py-2.5 rounded-full text-sm font-bold transition-all shadow-sm bg-white text-slate-600 border border-slate-200 hover:border-xmas-red hover:text-xmas-red" data-filter="planning">
                        Planning
                    </button>
                    <button class="filter-btn px-6 py-2.5 rounded-full text-sm font-bold transition-all shadow-sm bg-white text-slate-600 border border-slate-200 hover:border-xmas-red hover:text-xmas-red" data-filter="content">
                        Content
                    </button>
                    <button class="filter-btn px-6 py-2.5 rounded-full text-sm font-bold transition-all shadow-sm bg-white text-slate-600 border border-slate-200 hover:border-xmas-red hover:text-xmas-red" data-filter="assessment">
                        Assessment
                    </button>
                    <button class="filter-btn px-6 py-2.5 rounded-full text-sm font-bold transition-all shadow-sm bg-white text-slate-600 border border-slate-200 hover:border-xmas-red hover:text-xmas-red" data-filter="prof-dev">
                        Prof. Dev
                    </button>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <!-- Tool 1: K-12 Lesson Planner (Planning) -->
                    <a href="https://gemini.google.com/share/fc12e1d8ee61" target="_blank" class="tool-card group relative block h-full reveal" data-category="planning">
                        <div class="absolute inset-0 bg-gradient-to-br from-blue-600 to-blue-400 rounded-3xl transform rotate-2 opacity-0 group-hover:opacity-100 transition duration-500 blur-sm"></div>
                        <div class="relative h-full bg-white rounded-3xl p-8 shadow-sm border border-slate-100 group-hover:-translate-y-2 group-hover:shadow-card-hover transition duration-300 flex flex-col overflow-hidden">
                            <!-- Badge -->
                            <div class="absolute top-4 right-4 bg-blue-100 text-blue-700 text-[10px] font-bold px-2 py-1 rounded-full uppercase tracking-wider">Popular</div>
                            
                            <div class="w-16 h-16 bg-blue-50 rounded-2xl flex items-center justify-center text-deped-blue text-2xl mb-6 group-hover:scale-110 transition duration-300">
                                <i class="fa-solid fa-book-open"></i>
                            </div>
                            <h3 class="text-xl font-bold text-slate-900 mb-3 group-hover:text-deped-blue transition">K‚Äì12 Lesson Planner</h3>
                            <p class="text-slate-500 text-sm leading-relaxed mb-8 flex-grow">
                                Craft K‚Äì12 aligned lesson plans complete with learning competencies, structured activities, and assessments.
                            </p>
                            <div class="flex items-center text-deped-blue font-bold text-sm border-t border-slate-50 pt-4 mt-auto">
                                <span>Unwrap Tool</span> 
                                <i class="fa-solid fa-arrow-right ml-2 opacity-0 -translate-x-2 group-hover:opacity-100 group-hover:translate-x-0 transition-all duration-300"></i>
                            </div>
                        </div>
                    </a>

                    <!-- Tool 2: MATATAG Curriculum (Planning) -->
                    <a href="https://gemini.google.com/share/6ed13bd2f8bf" target="_blank" class="tool-card group relative block h-full reveal" data-category="planning">
                        <div class="absolute inset-0 bg-gradient-to-br from-red-600 to-red-400 rounded-3xl transform rotate-2 opacity-0 group-hover:opacity-100 transition duration-500 blur-sm"></div>
                        <div class="relative h-full bg-white rounded-3xl p-8 shadow-sm border border-slate-100 group-hover:-translate-y-2 group-hover:shadow-card-hover transition duration-300 flex flex-col overflow-hidden">
                             <div class="absolute top-4 right-4 bg-red-100 text-red-700 text-[10px] font-bold px-2 py-1 rounded-full uppercase tracking-wider">New</div>
                            
                            <div class="w-16 h-16 bg-red-50 rounded-2xl flex items-center justify-center text-deped-red text-2xl mb-6 group-hover:scale-110 transition duration-300">
                                <i class="fa-solid fa-shield-halved"></i>
                            </div>
                            <h3 class="text-xl font-bold text-slate-900 mb-3 group-hover:text-deped-red transition">MATATAG Planner</h3>
                            <p class="text-slate-500 text-sm leading-relaxed mb-8 flex-grow">
                                Generate lesson plans aligned with the new MATATAG Curriculum, focusing on foundational skills.
                            </p>
                            <div class="flex items-center text-deped-red font-bold text-sm border-t border-slate-50 pt-4 mt-auto">
                                <span>Unwrap Tool</span> 
                                <i class="fa-solid fa-arrow-right ml-2 opacity-0 -translate-x-2 group-hover:opacity-100 group-hover:translate-x-0 transition-all duration-300"></i>
                            </div>
                        </div>
                    </a>

                    <!-- Tool 3: NEAP Planner (Prof Dev) -->
                    <a href="https://gemini.google.com/share/8ca4944eca50" target="_blank" class="tool-card group relative block h-full reveal" data-category="prof-dev">
                        <div class="absolute inset-0 bg-gradient-to-br from-yellow-500 to-yellow-400 rounded-3xl transform rotate-2 opacity-0 group-hover:opacity-100 transition duration-500 blur-sm"></div>
                        <div class="relative h-full bg-white rounded-3xl p-8 shadow-sm border border-slate-100 group-hover:-translate-y-2 group-hover:shadow-card-hover transition duration-300 flex flex-col overflow-hidden">
                            
                            <div class="w-16 h-16 bg-yellow-50 rounded-2xl flex items-center justify-center text-yellow-600 text-2xl mb-6 group-hover:scale-110 transition duration-300">
                                <i class="fa-solid fa-user-tie"></i>
                            </div>
                            <h3 class="text-xl font-bold text-slate-900 mb-3 group-hover:text-yellow-600 transition">NEAP Planner</h3>
                            <p class="text-slate-500 text-sm leading-relaxed mb-8 flex-grow">
                                Plan according to NEAP professional development standards. Ideal for training portfolios.
                            </p>
                            <div class="flex items-center text-yellow-600 font-bold text-sm border-t border-slate-50 pt-4 mt-auto">
                                <span>Unwrap Tool</span> 
                                <i class="fa-solid fa-arrow-right ml-2 opacity-0 -translate-x-2 group-hover:opacity-100 group-hover:translate-x-0 transition-all duration-300"></i>
                            </div>
                        </div>
                    </a>

                    <!-- Tool 4: Story Book Generator (Content) -->
                    <a href="https://gemini.google.com/share/c3e58707632f" target="_blank" class="tool-card group relative block h-full reveal" data-category="content">
                        <div class="absolute inset-0 bg-gradient-to-br from-teal-500 to-teal-400 rounded-3xl transform rotate-2 opacity-0 group-hover:opacity-100 transition duration-500 blur-sm"></div>
                        <div class="relative h-full bg-white rounded-3xl p-8 shadow-sm border border-slate-100 group-hover:-translate-y-2 group-hover:shadow-card-hover transition duration-300 flex flex-col overflow-hidden">
                            
                            <div class="w-16 h-16 bg-teal-50 rounded-2xl flex items-center justify-center text-teal-600 text-2xl mb-6 group-hover:scale-110 transition duration-300">
                                <i class="fa-solid fa-book-journal-whills"></i>
                            </div>
                            <h3 class="text-xl font-bold text-slate-900 mb-3 group-hover:text-teal-600 transition">Story Book Generator</h3>
                            <p class="text-slate-500 text-sm leading-relaxed mb-8 flex-grow">
                                Create engaging children's storybooks with customizable themes and local context.
                            </p>
                            <div class="flex items-center text-teal-600 font-bold text-sm border-t border-slate-50 pt-4 mt-auto">
                                <span>Unwrap Tool</span> 
                                <i class="fa-solid fa-arrow-right ml-2 opacity-0 -translate-x-2 group-hover:opacity-100 group-hover:translate-x-0 transition-all duration-300"></i>
                            </div>
                        </div>
                    </a>

                    <!-- Tool 5: TOS Generator (Assessment) -->
                    <a href="https://gemini.google.com/share/8b3073de1fd0" target="_blank" class="tool-card group relative block h-full reveal" data-category="assessment">
                        <div class="absolute inset-0 bg-gradient-to-br from-purple-600 to-purple-400 rounded-3xl transform rotate-2 opacity-0 group-hover:opacity-100 transition duration-500 blur-sm"></div>
                        <div class="relative h-full bg-white rounded-3xl p-8 shadow-sm border border-slate-100 group-hover:-translate-y-2 group-hover:shadow-card-hover transition duration-300 flex flex-col overflow-hidden">
                            
                            <div class="w-16 h-16 bg-purple-50 rounded-2xl flex items-center justify-center text-purple-600 text-2xl mb-6 group-hover:scale-110 transition duration-300">
                                <i class="fa-solid fa-table-list"></i>
                            </div>
                            <h3 class="text-xl font-bold text-slate-900 mb-3 group-hover:text-purple-600 transition">TOS Generator</h3>
                            <p class="text-slate-500 text-sm leading-relaxed mb-8 flex-grow">
                                Create a Table of Specifications (TOS) quickly to ensure your periodic tests are valid and balanced.
                            </p>
                            <div class="flex items-center text-purple-600 font-bold text-sm border-t border-slate-50 pt-4 mt-auto">
                                <span>Unwrap Tool</span> 
                                <i class="fa-solid fa-arrow-right ml-2 opacity-0 -translate-x-2 group-hover:opacity-100 group-hover:translate-x-0 transition-all duration-300"></i>
                            </div>
                        </div>
                    </a>

                    <!-- Tool 6: AI Presentation Generator (Content) -->
                    <a href="https://gemini.google.com/share/c3d0942eeb13" target="_blank" class="tool-card group relative block h-full reveal" data-category="content">
                        <div class="absolute inset-0 bg-gradient-to-br from-orange-500 to-orange-400 rounded-3xl transform rotate-2 opacity-0 group-hover:opacity-100 transition duration-500 blur-sm"></div>
                        <div class="relative h-full bg-white rounded-3xl p-8 shadow-sm border border-slate-100 group-hover:-translate-y-2 group-hover:shadow-card-hover transition duration-300 flex flex-col overflow-hidden">
                            
                            <div class="w-16 h-16 bg-orange-50 rounded-2xl flex items-center justify-center text-orange-600 text-2xl mb-6 group-hover:scale-110 transition duration-300">
                                <i class="fa-solid fa-chalkboard-user"></i>
                            </div>
                            <h3 class="text-xl font-bold text-slate-900 mb-3 group-hover:text-orange-600 transition">AI Presentation Generator</h3>
                            <p class="text-slate-500 text-sm leading-relaxed mb-8 flex-grow">
                                Instantly create structured presentation outlines and slide content tailored to your lesson topics.
                            </p>
                            <div class="flex items-center text-orange-600 font-bold text-sm border-t border-slate-50 pt-4 mt-auto">
                                <span>Unwrap Tool</span> 
                                <i class="fa-solid fa-arrow-right ml-2 opacity-0 -translate-x-2 group-hover:opacity-100 group-hover:translate-x-0 transition-all duration-300"></i>
                            </div>
                        </div>
                    </a>

                </div>
            </div>
        </section>

        <!-- About Section -->
        <section id="about" class="bg-slate-50 py-24 relative overflow-hidden">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
                <div class="lg:grid lg:grid-cols-2 lg:gap-20 items-center">
                    <div class="mb-12 lg:mb-0 relative reveal">
                        <!-- Image/Illustration Area -->
                        <div class="relative bg-white rounded-3xl p-10 border-2 border-slate-100 shadow-sm">
                            <i class="fa-solid fa-sleigh text-red-200 text-9xl absolute bottom-0 right-0 -mr-4 -mb-4 opacity-50"></i>
                            <h3 class="text-2xl font-bold text-slate-900 mb-6 font-holiday text-3xl">Why AI this Christmas?</h3>
                            <ul class="space-y-6">
                                <li class="flex items-start">
                                    <div class="flex-shrink-0 w-8 h-8 rounded-full bg-green-100 flex items-center justify-center mt-1 mr-4">
                                        <i class="fa-solid fa-check text-green-600 text-sm"></i>
                                    </div>
                                    <span class="text-slate-700 font-medium leading-snug">Finish grading and planning faster so you can enjoy the holidays.</span>
                                </li>
                                <li class="flex items-start">
                                    <div class="flex-shrink-0 w-8 h-8 rounded-full bg-green-100 flex items-center justify-center mt-1 mr-4">
                                        <i class="fa-solid fa-check text-green-600 text-sm"></i>
                                    </div>
                                    <span class="text-slate-700 font-medium leading-snug">Reduce the year-end rush administrative burden.</span>
                                </li>
                                <li class="flex items-start">
                                    <div class="flex-shrink-0 w-8 h-8 rounded-full bg-green-100 flex items-center justify-center mt-1 mr-4">
                                        <i class="fa-solid fa-check text-green-600 text-sm"></i>
                                    </div>
                                    <span class="text-slate-700 font-medium leading-snug">Create fun, contextualized materials for the new year.</span>
                                </li>
                                <li class="flex items-start">
                                    <div class="flex-shrink-0 w-8 h-8 rounded-full bg-green-100 flex items-center justify-center mt-1 mr-4">
                                        <i class="fa-solid fa-check text-green-600 text-sm"></i>
                                    </div>
                                    <span class="text-slate-700 font-medium leading-snug">Start 2025 with innovation in your classroom.</span>
                                </li>
                            </ul>
                        </div>
                    </div>
                    
                    <div class="reveal">
                        <span class="text-xmas-red font-bold tracking-widest uppercase text-sm mb-2 block">Our Mission</span>
                        <h2 class="text-4xl md:text-5xl font-bold text-slate-900 mb-6 font-holiday">"Bagong Taon, <br>Bagong Edukasyon."</h2>
                        <p class="text-slate-600 leading-relaxed mb-6 text-lg">
                            The AI School Tool Program aims to be the helping hand every teacher deserves. We believe that Artificial Intelligence should not replace teachers, but rather act as a supportive elf that amplifies their capacity to inspire.
                        </p>
                        <p class="text-slate-600 leading-relaxed text-lg">
                            By providing accessible and curriculum-aligned tools, we hope to give you back the precious gift of time for your family and yourself.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Call to Action -->
        <section class="bg-gradient-to-r from-green-700 to-green-800 py-20 relative overflow-hidden reveal">
            <div class="absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-10"></div>
            <div class="max-w-4xl mx-auto px-4 text-center relative z-10">
                <h2 class="text-4xl md:text-5xl font-bold text-white mb-6 font-holiday">Ready to unwrap your potential?</h2>
                <p class="text-green-100 mb-10 text-xl font-light">Join thousands of Filipino educators integrating AI into their classrooms today.</p>
                <a href="#tools" class="inline-block bg-white text-green-800 font-bold py-4 px-10 rounded-full shadow-2xl hover:bg-slate-100 transition transform hover:scale-105">
                    <i class="fa-solid fa-sleigh mr-2"></i> Start Planning Now
                </a>
            </div>
        </section>
    </div>

    <!-- WRAPPER: WELLNESS ZONE (Hidden by default) -->
    <div class="wellness-zone hidden flex-col items-center justify-center pt-32 pb-12 px-4 text-center relative overflow-hidden">
        <!-- Floating Elements -->
        <div class="absolute top-20 left-10 text-6xl opacity-20 animate-float" style="animation-delay: 1s;">üåø</div>
        <div class="absolute top-40 right-10 text-4xl opacity-20 animate-float" style="animation-delay: 2s;">‚ú®</div>
        <div class="absolute bottom-20 left-20 text-5xl opacity-20 animate-float" style="animation-delay: 0.5s;">‚òï</div>

        <div class="animate-breathe mb-8">
            <i class="fa-solid fa-mug-hot text-6xl text-yellow-200 drop-shadow-[0_0_15px_rgba(253,224,71,0.5)]"></i>
        </div>
        
        <h2 class="text-4xl md:text-6xl font-bold font-holiday text-blue-100 mb-4 tracking-wide text-glow">Wellness Break in Progress.</h2>
        <p class="text-lg md:text-xl text-blue-300 max-w-2xl mx-auto font-light leading-relaxed">
            We are currently observing a scheduled break to prioritize well-being. <br>
            Disconnect, recharge, and enjoy the moment. The tools will be back soon.
        </p>

        <div class="mt-8 px-6 py-2 bg-slate-800/50 rounded-full border border-slate-700 inline-block backdrop-blur-sm">
            <span class="text-slate-400 text-xs uppercase tracking-widest font-bold" id="wellness-hours-text">Scheduled Maintenance</span>
        </div>

        <!-- NEW: Countdown Timer -->
        <div id="countdown-container" class="mt-8">
            <p class="text-blue-400/80 text-[10px] uppercase tracking-[0.2em] mb-3 font-semibold">Resuming In</p>
            <div id="wellness-countdown" class="text-3xl md:text-5xl font-mono font-bold text-white tracking-widest text-glow tabular-nums">
                --d --h --m --s
            </div>
        </div>
        
        <div class="mt-12 w-full max-w-md border-t border-slate-700/50 pt-8">
            <p class="text-slate-400 text-sm mb-4">You can still chat with fellow teachers:</p>
            <i class="fa-solid fa-arrow-down text-blue-400 animate-bounce"></i>
        </div>
    </div>

    <!-- Unified Community Hub Section (Always Visible) -->
    <section id="community" class="py-24 relative border-y border-slate-100 bg-transparent transition-colors duration-700">
        <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center mb-16">
                <h2 class="text-3xl md:text-4xl font-bold transition-colors duration-700 mb-4 font-holiday section-title">Teacher Community Hub</h2>
                <div class="h-1.5 w-24 bg-gradient-to-r from-red-500 to-green-500 mx-auto rounded-full"></div>
                <p class="mt-4 transition-colors duration-700 section-desc">See what others are saying and share your own story!</p>
            </div>

            <!-- Modern Unified Chat Interface -->
            <div class="reveal max-w-2xl mx-auto">
                <div class="bg-slate-50 rounded-[2rem] shadow-2xl border border-slate-200 h-[650px] flex flex-col relative overflow-hidden ring-8 ring-slate-100/50 transition-all duration-700" id="chat-container">
                    
                    <!-- App Header -->
                    <div class="bg-white/80 backdrop-blur-md p-4 border-b border-slate-200 flex items-center justify-between sticky top-0 z-20">
                        <div class="flex items-center gap-4">
                            <div class="w-10 h-10 rounded-full bg-gradient-to-br from-xmas-red to-pink-500 text-white flex items-center justify-center shadow-lg">
                                <i class="fa-solid fa-heart"></i>
                            </div>
                            <div>
                                <h3 class="font-bold text-slate-800 text-sm">Community Wall</h3>
                                <div class="flex items-center gap-1.5">
                                    <span class="w-2 h-2 rounded-full bg-green-500 animate-pulse"></span>
                                    <p class="text-[10px] text-slate-500 uppercase tracking-wider font-bold">Live Feed</p>
                                </div>
                            </div>
                        </div>
                        <div class="flex gap-2">
                             <button class="w-8 h-8 rounded-full bg-slate-100 hover:bg-slate-200 flex items-center justify-center text-slate-400 transition"><i class="fa-solid fa-ellipsis"></i></button>
                        </div>
                    </div>

                    <!-- Chat Area -->
                    <div id="stories-grid" class="flex-grow overflow-y-auto p-4 md:p-6 chat-pattern space-y-6 custom-scroll bg-white/50">
                        <div class="text-center py-20 opacity-50">
                            <i class="fa-solid fa-circle-notch fa-spin text-2xl text-deped-blue mb-3"></i>
                            <p class="text-sm text-slate-500 font-medium">Fetching holiday cheers...</p>
                        </div>
                    </div>
                    
                    <!-- Load More -->
                    <div class="px-4 py-2 bg-gradient-to-b from-transparent to-white/80">
                        <button id="loadMoreBtn" class="hidden w-full text-center text-xs font-bold text-slate-400 py-2 hover:text-deped-blue transition uppercase tracking-widest">
                            <i class="fa-solid fa-clock-rotate-left mr-1"></i> Load older messages
                        </button>
                    </div>

                    <!-- Input Area -->
                    <div class="bg-white p-4 z-20 shadow-[0_-10px_40px_-10px_rgba(0,0,0,0.05)] relative border-t border-slate-100">
                         <iframe name="hidden_iframe" id="hidden_iframe" style="display:none;"></iframe>
                         
                         <form id="contactForm" 
                              action="https://docs.google.com/forms/d/e/1FAIpQLSeX6DQW6JTdMVN_lmBqe-m4izcFGiTyhPf2uYqQ5GgVmpf37Q/formResponse" 
                              method="POST" 
                              target="hidden_iframe"
                              class="relative">
                             
                             <!-- Error Message -->
                             <div id="errorMessage" class="hidden absolute -top-10 left-0 right-0 mx-auto w-fit bg-red-100 text-red-600 px-3 py-1 rounded-full text-xs font-bold shadow-sm animate-bounce text-center">
                                <i class="fa-solid fa-circle-exclamation mr-1"></i> Please keep messages friendly!
                             </div>

                             <!-- Input Container -->
                             <div class="bg-slate-50 p-1.5 rounded-[1.5rem] border border-slate-200 focus-within:ring-2 focus-within:ring-blue-100 focus-within:border-blue-300 transition-all shadow-inner">
                                 <div class="flex flex-col px-2 pt-2">
                                     <!-- Name -->
                                     <div class="flex items-center gap-2 border-b border-slate-200 pb-2 mb-2">
                                        <div class="w-6 h-6 rounded-full bg-slate-200 flex items-center justify-center"><i class="fa-solid fa-user text-[10px] text-slate-500"></i></div>
                                        <input type="text" id="name" name="entry.385038069" required 
                                            class="text-xs font-bold text-slate-700 bg-transparent outline-none placeholder-slate-400 w-full" 
                                            placeholder="Your Name">
                                     </div>
                                     <!-- Message Row -->
                                     <div class="flex items-end gap-2">
                                         <textarea id="message" name="entry.1499916649" rows="1" required 
                                             class="text-sm text-slate-700 bg-transparent outline-none resize-none placeholder-slate-400 w-full mb-2 max-h-24" 
                                             placeholder="Share a holiday greeting..."
                                             oninput="this.style.height = ''; this.style.height = Math.min(this.scrollHeight, 100) + 'px'"></textarea>
                                         
                                         <button type="submit" id="sendBtn" class="w-10 h-10 rounded-full bg-gradient-to-r from-blue-600 to-blue-500 text-white flex-shrink-0 flex items-center justify-center shadow-md hover:shadow-lg hover:-translate-y-0.5 transition transform active:scale-95 mb-1">
                                             <i class="fa-solid fa-paper-plane text-xs"></i>
                                         </button>
                                     </div>
                                 </div>
                             </div>
                         </form>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-slate-900 text-slate-300 py-16 border-t border-slate-800 relative overflow-hidden">
         <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-red-500 via-green-500 to-red-500 opacity-50"></div>

        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-12 mb-12">
                <!-- Brand -->
                <div class="col-span-1 md:col-span-2">
                    <div class="flex items-center space-x-3 mb-6">
                        <img src="https://ui-avatars.com/api/?name=AI+School&background=1e3a8a&color=fff&size=64&rounded=true&bold=true" 
                             alt="AI School Tool Logo" 
                             class="h-10 w-10 rounded-full border-2 border-slate-700">
                        <h4 class="text-white font-bold text-xl font-holiday">AI School Tool Program</h4>
                    </div>
                    <p class="text-sm text-slate-400 leading-relaxed max-w-sm">
                        An independent, non-profit initiative dedicated to supporting Filipino teachers through accessible technology and innovation. Wishing you a restful and joyful break!
                    </p>
                </div>
                
                <!-- Links -->
                <div class="productivity-zone">
                    <h4 class="text-white font-bold text-lg mb-6 font-holiday">Quick Links</h4>
                    <ul class="space-y-3 text-sm">
                        <li><a href="#home" class="hover:text-xmas-gold transition flex items-center gap-2"><i class="fa-solid fa-chevron-right text-[10px] text-slate-600"></i> Home</a></li>
                        <li><a href="#tools" class="hover:text-xmas-gold transition flex items-center gap-2"><i class="fa-solid fa-chevron-right text-[10px] text-slate-600"></i> AI Tools</a></li>
                        <li><a href="#about" class="hover:text-xmas-gold transition flex items-center gap-2"><i class="fa-solid fa-chevron-right text-[10px] text-slate-600"></i> Mission</a></li>
                        <li><a href="#community" class="hover:text-xmas-gold transition flex items-center gap-2"><i class="fa-solid fa-chevron-right text-[10px] text-slate-600"></i> Community</a></li>
                    </ul>
                </div>

                <!-- Social -->
                <div>
                    <h4 class="text-white font-bold text-lg mb-6 font-holiday">Connect</h4>
                    <div class="flex space-x-4">
                        <a href="https://www.facebook.com/y2k2009/" class="w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center hover:bg-blue-600 hover:text-white transition transform hover:-translate-y-1">
                            <i class="fa-brands fa-facebook-f"></i>
                        </a>
                        <a href="#" class="w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center hover:bg-sky-500 hover:text-white transition transform hover:-translate-y-1">
                            <i class="fa-brands fa-twitter"></i>
                        </a>
                        <a href="#" class="w-10 h-10 rounded-full bg-slate-800 flex items-center justify-center hover:bg-pink-600 hover:text-white transition transform hover:-translate-y-1">
                            <i class="fa-brands fa-instagram"></i>
                        </a>
                    </div>
                </div>
            </div>
            
            <div class="border-t border-slate-800 pt-8 text-center text-sm text-slate-500 flex flex-col items-center">
                <p>&copy; 2025 AI School Tool Program. All rights reserved.</p>
                <div class="mt-4 px-4 py-2 bg-slate-800 rounded-full inline-block">
                    Created with holiday cheer by <span class="text-xmas-gold font-bold">DAVID JESS F. ASAURO</span>
                </div>
            </div>
        </div>
    </footer>

    <!-- Logic Script -->
    <script>
        // ... (Previous logic remains) ...
        // 1. Mobile Menu Toggle
        const btn = document.getElementById('mobile-menu-btn');
        const menu = document.getElementById('mobile-menu');

        if(btn && menu){
            btn.addEventListener('click', () => {
                menu.classList.toggle('hidden');
            });
            const mobileLinks = menu.querySelectorAll('a');
            mobileLinks.forEach(link => {
                link.addEventListener('click', () => {
                    menu.classList.add('hidden');
                });
            });
        }

        // 2. Scroll Animation (Entrance Effects)
        const observerOptions = {
            root: null,
            rootMargin: '0px',
            threshold: 0.1
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('active');
                }
            });
        }, observerOptions);

        const revealElements = document.querySelectorAll('.reveal');
        revealElements.forEach(el => observer.observe(el));

        // 3. Tool Filtering Logic
        const filterBtns = document.querySelectorAll('.filter-btn');
        const toolCards = document.querySelectorAll('.tool-card');

        filterBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                // Update button states
                filterBtns.forEach(b => {
                    b.classList.remove('bg-slate-800', 'text-white', 'transform', '-translate-y-0.5');
                    b.classList.add('bg-white', 'text-slate-600', 'border', 'border-slate-200');
                });
                btn.classList.remove('bg-white', 'text-slate-600', 'border', 'border-slate-200');
                btn.classList.add('bg-slate-800', 'text-white', 'transform', '-translate-y-0.5');

                // Filter cards
                const filterValue = btn.getAttribute('data-filter');
                
                toolCards.forEach(card => {
                    if (filterValue === 'all' || card.getAttribute('data-category') === filterValue) {
                        card.classList.remove('hidden-tool');
                        card.classList.remove('active');
                        setTimeout(() => card.classList.add('active'), 50);
                    } else {
                        card.classList.add('hidden-tool');
                    }
                });
            });
        });

        // 4. Contact Form Handler (Slow Mode + Profanity + Optimistic UI)
        // Configuration
        const COOLDOWN_MS = 5 * 60 * 1000; // 5 Minutes
        const STORAGE_KEY = 'ai_school_cooldown_target_v2'; // Unique key to prevent conflicts
        
        // Basic Profanity Filter
        const foulWords = [
            // Filipino / Tagalog
            "bobo", "tanga", "gago", "ulol", "tarantado", "putangina", "pukingina", "tangina", "kupal", "kantot",
            "pota", "ina mo", "hayop", "gaga", "pakyu", "burat", "etits", "pepe", "kepiyas", "jakol", "hindot", 
            "pucha", "leche", "gagi", "buwisit", "bwisit", "hayuf", "demonyo", "lintik", "ungas", "abnoy", 
            "baliw", "sira ulo", "inutil", "ogag", "pakshet", "tite", "bilat",

            // English
            "shit", "fuck", "damn", "bitch", "asshole", "stupid", "idiot", "kiss my ass", "ass", "fucker",
            "bullshit", "crap", "bastard", "dick", "cock", "pussy", "vagina", "penis", "sex", "porn", "xxx", 
            "nigger", "nigga", "slut", "whore", "cunt", "arse", "motherfucker", "son of a bitch", "retard"
        ];

        function hasFoulLanguage(text) {
            return foulWords.some(word => {
                const regex = new RegExp(`\\b${word}\\b`, 'gi');
                return regex.test(text);
            });
        }

        // Robust Timer Logic (Target Time Based)
        function startTimer(btn, targetTimestamp) {
            btn.disabled = true;
            btn.classList.add('bg-slate-400', 'cursor-not-allowed');
            btn.classList.remove('bg-gradient-to-r', 'from-blue-600', 'to-blue-500', 'hover:shadow-lg', 'hover:-translate-y-0.5', 'active:scale-95');
            
            // Clear existing
            if (btn.dataset.timerId) clearInterval(parseInt(btn.dataset.timerId));

            const updateDisplay = () => {
                const now = Date.now();
                const remaining = targetTimestamp - now;

                if (remaining <= 0) {
                    clearInterval(parseInt(btn.dataset.timerId));
                    btn.disabled = false;
                    btn.innerHTML = '<i class="fa-solid fa-paper-plane text-xs"></i>';
                    
                    // Restore styles
                    btn.classList.remove('bg-slate-400', 'cursor-not-allowed');
                    btn.classList.add('bg-gradient-to-r', 'from-blue-600', 'to-blue-500', 'hover:shadow-lg', 'hover:-translate-y-0.5', 'active:scale-95');
                    
                    localStorage.removeItem(STORAGE_KEY);
                } else {
                    const minutes = Math.floor((remaining / 1000) / 60);
                    const seconds = Math.floor((remaining / 1000) % 60);
                    btn.innerHTML = `<span class="text-[10px] font-bold font-mono">${minutes}:${seconds.toString().padStart(2, '0')}</span>`;
                }
            };

            updateDisplay(); 
            const interval = setInterval(updateDisplay, 1000);
            btn.dataset.timerId = interval; 
        }

        function checkCooldown(btn) {
            const storedTarget = localStorage.getItem(STORAGE_KEY);
            if (!storedTarget) return;

            const targetTime = parseInt(storedTarget);
            const now = Date.now();
            
            if (targetTime > now) {
                // Resume timer
                startTimer(btn, targetTime);
            } else {
                // Expired
                localStorage.removeItem(STORAGE_KEY);
            }
        }

        // 5. FETCH STORIES FROM GOOGLE SHEETS
        let allStories = [];
        let storiesDisplayed = 0;
        let currentSpotlightIndex = 0;
        let spotlightInterval;
        let scheduledWellness = null; // Store remote config here
        let countdownInterval = null; // Store timer interval
        const BATCH_SIZE = 10; 

        // Helper to parse Gviz Date or Strings
        function parseGvizDate(val) {
             if (!val) return null;
             
             // 1. Gviz Date Object: "Date(2025, 11, 25, 8, 0, 0)"
             if (typeof val === 'string' && val.startsWith('Date(')) {
                 const nums = val.match(/\d+/g);
                 if (nums && nums.length >= 6) {
                     // Month is 0-indexed in JS Date
                     return new Date(nums[0], nums[1], nums[2], nums[3], nums[4], nums[5]);
                 }
             }
             
             // 2. Standard String: "2025-12-25 08:00" or similar
             const tryDate = new Date(val);
             if (!isNaN(tryDate.getTime())) {
                 return tryDate;
             }
             
             return null;
        }

        async function fetchStories() {
            const sheetId = '1p69v6YNSjn8n7IrW9h0Qk9get61eh-ONYNxaMz76RFA';
            const gid = '1355823203';
            const url = `https://docs.google.com/spreadsheets/d/${sheetId}/gviz/tq?tqx=out:json&tq&gid=${gid}`;

            try {
                const response = await fetch(url);
                const text = await response.text();
                
                const jsonMatch = text.match(/google\.visualization\.Query\.setResponse\(([\s\S]*)\);/);
                if (!jsonMatch || !jsonMatch[1]) throw new Error('Invalid GVIZ response');
                
                const json = JSON.parse(jsonMatch[1]);
                const rows = json.table.rows;

                if(rows && rows.length > 0) {
                    // Reset Schedule found
                    scheduledWellness = null;

                    // Parse data safely
                    allStories = rows.map(row => {
                        if (!row.c) return null;
                        
                        // --- CONFIG SCANNER (Columns E & F -> Indexes 4 & 5) ---
                        // We check every row. The LAST valid row found becomes the active config.
                        const colE = row.c[4] ? row.c[4].v : null;
                        const colF = row.c[5] ? row.c[5].v : null;
                        
                        if (colE && colF) {
                            const start = parseGvizDate(colE);
                            const end = parseGvizDate(colF);
                            if (start && end) {
                                scheduledWellness = { start, end };
                            }
                        }
                        // -----------------------------------------------------

                        const nameCell = row.c[1];
                        const name = (nameCell && nameCell.v) ? String(nameCell.v) : 'Anonymous';

                        let timestamp = "Recently";
                        let dateGroup = "Unknown Date";
                        
                        // Date Parsing (Column A -> Index 0)
                        const dateCell = row.c[0];
                        if (dateCell) {
                             let dateObj = parseGvizDate(dateCell.v);
                             if(!dateObj && dateCell.f) dateObj = parseGvizDate(dateCell.f); // Try formatted string

                             if (dateObj) {
                                 timestamp = dateObj.toLocaleTimeString([], {hour: 'numeric', minute:'2-digit'});
                                 const today = new Date();
                                 const yesterday = new Date(today);
                                 yesterday.setDate(yesterday.getDate() - 1);
                                 if (dateObj.toDateString() === today.toDateString()) {
                                     dateGroup = "Today";
                                 } else if (dateObj.toDateString() === yesterday.toDateString()) {
                                     dateGroup = "Yesterday";
                                 } else {
                                     dateGroup = dateObj.toLocaleDateString([], {month: 'long', day: 'numeric', year: 'numeric'});
                                 }
                             }
                        }

                        // Message Finding Logic (Cols 2,3,4,5)
                        // Note: We now skip Cols 4 & 5 IF they were parsed as config dates to avoid showing dates as messages
                        // But to be safe, we just check if they look like typical messages
                        let candidates = [];
                        [2, 3, 4, 5].forEach(i => {
                            const cell = row.c[i];
                            if (cell && cell.v) {
                                const txt = String(cell.v);
                                // Filter out Dates, URLs, etc.
                                const isDateLike = txt.startsWith('Date(') || !isNaN(Date.parse(txt)) && txt.length < 20; // heuristic
                                if (!txt.includes('@') && !txt.includes('google.com') && !isDateLike && txt.length > 1) {
                                    candidates.push(txt);
                                }
                            }
                        });

                        if (candidates.length === 0) return null;
                        candidates.sort((a, b) => b.length - a.length);
                        const message = candidates[0];

                        return { name, message, timestamp, dateGroup };
                    }).filter(story => story !== null);
                    
                    // Run Wellness Check NOW that we have data
                    // This will update the UI BEHIND the loader
                    checkWellnessTime();

                    initSpotlight([...allStories].reverse().slice(0, 5));

                    const grid = document.getElementById('stories-grid');
                    grid.innerHTML = ''; 
                    
                    storiesDisplayed = BATCH_SIZE; 
                    const initialBatch = allStories.slice(Math.max(allStories.length - BATCH_SIZE, 0));
                    
                    // Render Initial Batch with Date Headers
                    let lastGroup = null;
                    initialBatch.forEach(story => {
                        if (story.dateGroup !== lastGroup) {
                            grid.appendChild(createDateBadge(story.dateGroup));
                            lastGroup = story.dateGroup;
                        }
                        grid.appendChild(createChatBubble(story));
                    });
                    
                    setTimeout(() => grid.scrollTop = grid.scrollHeight, 100);

                    const loadMoreBtn = document.getElementById('loadMoreBtn');
                    if (allStories.length > BATCH_SIZE) {
                        loadMoreBtn.classList.remove('hidden');
                    }

                } else {
                     document.getElementById('stories-grid').innerHTML = '<p class="text-center py-10 text-slate-400 text-xs">No stories yet. Be the first to share!</p>';
                }

            } catch (err) {
                console.log('Error', err);
                const grid = document.getElementById('stories-grid');
                grid.innerHTML = getStaticStoriesHTML(); 
            } finally {
                // HIDE LOADER: Now that the UI is in the correct state (Wellness or Normal), remove the loader
                const loader = document.getElementById('initial-loader');
                if(loader) {
                    loader.classList.add('opacity-0');
                    setTimeout(() => loader.remove(), 700);
                }
            }
        }

        // ... (loadMoreStories, createDateBadge, initSpotlight, transitionSpotlight, updateSpotlightHTML, createChatBubble, getStaticStoriesHTML remain same) ...

        function loadMoreStories() {
            const grid = document.getElementById('stories-grid');
            const loadMoreBtn = document.getElementById('loadMoreBtn');
            
            const currentCount = document.querySelectorAll('.group.reveal').length;
            const remaining = allStories.length - currentCount;
            
            if (remaining <= 0) return;

            const nextBatchSize = Math.min(BATCH_SIZE, remaining);
            const startIndex = allStories.length - currentCount - nextBatchSize;
            const endIndex = allStories.length - currentCount;
            
            const olderBatch = allStories.slice(startIndex, endIndex);
            
            const fragment = document.createDocumentFragment();
            let lastGroupInBatch = null;
            
            olderBatch.forEach((story, index) => {
                if (story.dateGroup !== lastGroupInBatch) {
                    fragment.appendChild(createDateBadge(story.dateGroup));
                    lastGroupInBatch = story.dateGroup;
                }
                fragment.appendChild(createChatBubble(story));
            });

            const firstExistingElement = grid.firstElementChild;
            if (firstExistingElement && firstExistingElement.classList.contains('date-badge')) {
                if (firstExistingElement.innerText === lastGroupInBatch) {
                    grid.removeChild(firstExistingElement);
                }
            }

            grid.insertBefore(fragment, grid.firstChild);
            
            if (startIndex <= 0) {
                loadMoreBtn.innerText = "No older messages";
                loadMoreBtn.disabled = true;
                loadMoreBtn.classList.add('opacity-50', 'cursor-not-allowed');
            }
        }

        function createDateBadge(text) {
            const div = document.createElement('div');
            div.className = 'date-badge';
            div.innerText = text;
            return div;
        }

        function initSpotlight(stories) {
            if (!stories || stories.length === 0) return;
            const indicatorsContainer = document.getElementById('spotlight-indicators');
            indicatorsContainer.innerHTML = '';
            stories.forEach((_, index) => {
                const dot = document.createElement('div');
                dot.className = `w-2 h-2 rounded-full transition-all duration-300 ${index === 0 ? 'bg-xmas-red w-6' : 'bg-slate-300'}`;
                dot.id = `spotlight-dot-${index}`;
                indicatorsContainer.appendChild(dot);
            });
            updateSpotlightHTML(stories[0]);
            if (stories.length > 1) {
                if (spotlightInterval) clearInterval(spotlightInterval);
                spotlightInterval = setInterval(() => {
                    currentSpotlightIndex = (currentSpotlightIndex + 1) % stories.length;
                    transitionSpotlight(stories[currentSpotlightIndex], currentSpotlightIndex);
                }, 6000);
            }
        }

        function transitionSpotlight(story, index) {
            const container = document.getElementById('spotlight-content');
            container.classList.remove('opacity-100');
            container.classList.add('opacity-0');
            setTimeout(() => {
                updateSpotlightHTML(story);
                document.querySelectorAll('#spotlight-indicators div').forEach((dot, i) => {
                    if (i === index) {
                        dot.classList.remove('bg-slate-300', 'w-2');
                        dot.classList.add('bg-xmas-red', 'w-6');
                    } else {
                        dot.classList.remove('bg-xmas-red', 'w-6');
                        dot.classList.add('bg-slate-300', 'w-2');
                    }
                });
                container.classList.remove('opacity-0');
                container.classList.add('opacity-100');
            }, 500);
        }

        function updateSpotlightHTML(story) {
            const container = document.getElementById('spotlight-content');
            container.innerHTML = `
                <p class="text-xl md:text-2xl text-slate-700 font-medium italic mb-6 leading-relaxed">"${story.message}"</p>
                <div class="flex items-center gap-3">
                    <div class="w-10 h-10 rounded-full bg-gradient-to-br from-xmas-red to-orange-500 text-white flex items-center justify-center font-bold text-sm shadow-md">${story.name.charAt(0)}</div>
                    <div class="text-left">
                        <p class="text-sm font-bold text-slate-800">${story.name}</p>
                        <p class="text-[10px] text-slate-400 uppercase tracking-wider font-semibold">Verified Teacher</p>
                    </div>
                </div>
            `;
        }

        function createChatBubble(story) {
            const bubble = document.createElement('div');
            bubble.className = 'flex flex-col group reveal active';
            bubble.innerHTML = `
                <div class="flex items-start gap-2 mb-1 ml-1">
                    <div class="w-8 h-8 rounded-full bg-slate-200 flex-shrink-0 flex items-center justify-center text-[10px] font-bold text-slate-500 shadow-sm mt-1">${story.name.charAt(0)}</div>
                    <div class="flex flex-col">
                        <span class="text-xs text-slate-700 font-bold ${document.body.classList.contains('wellness-active') ? 'text-blue-200' : ''}">${story.name}</span>
                        <span class="text-[10px] text-slate-400">${story.timestamp}</span>
                    </div>
                </div>
                <div class="bg-white chat-bubble-bg border border-slate-100 p-4 rounded-2xl rounded-tl-sm text-sm text-slate-600 shadow-sm max-w-[85%] leading-relaxed">
                    ${story.message}
                </div>
            `;
            return bubble;
        }

        function getStaticStoriesHTML() {
            return `
                <div class="flex flex-col group reveal active">
                    <div class="flex items-start gap-2 mb-1 ml-1">
                        <div class="w-8 h-8 rounded-full bg-slate-200 flex-shrink-0 flex items-center justify-center text-[10px] font-bold text-slate-500 shadow-sm mt-1">T</div>
                        <div class="flex flex-col">
                            <span class="text-xs text-slate-700 font-bold">Teacher Rose</span>
                            <span class="text-[10px] text-slate-400">10:00 AM</span>
                        </div>
                    </div>
                    <div class="bg-white chat-bubble-bg border border-slate-100 p-4 rounded-2xl rounded-tl-sm text-sm text-slate-600 shadow-sm max-w-[85%] leading-relaxed">
                        The Lesson Planner saved me hours this weekend! Now I have more time to prepare for our Christmas party.
                    </div>
                </div>
            `;
        }
        
        // 6. WELLNESS MODE LOGIC (Updated to support Remote Config ONLY)
        function toggleWellnessMode(forceState) {
            const body = document.body;
            const subtitle = document.getElementById('nav-subtitle');
            const communityTitle = document.querySelector('.section-title');
            const communityDesc = document.querySelector('.section-desc');
            const chatContainer = document.getElementById('chat-container');
            const statusIndicator = document.getElementById('wellness-status');

            const isNowWellness = typeof forceState !== 'undefined' ? forceState : !body.classList.contains('wellness-active');

            if (isNowWellness) {
                body.classList.add('wellness-active');
                if(subtitle) subtitle.innerText = "Wellness Mode üåø";
                if(statusIndicator) statusIndicator.innerHTML = '<i class="fa-solid fa-leaf mr-2 text-green-300"></i>Wellness Break Active';
                if(communityTitle) {
                    communityTitle.classList.remove('text-slate-900');
                    communityTitle.classList.add('text-blue-200', 'text-glow');
                }
                if(communityDesc) {
                    communityDesc.classList.remove('text-slate-600');
                    communityDesc.classList.add('text-blue-400');
                }
                if(chatContainer) {
                    chatContainer.classList.remove('bg-slate-50', 'ring-slate-100/50', 'shadow-2xl');
                    chatContainer.classList.add('bg-slate-800/30', 'ring-blue-900/30', 'shadow-[0_0_30px_rgba(30,58,138,0.2)]', 'border-blue-900/50');
                }
            } else {
                body.classList.remove('wellness-active');
                if(subtitle) subtitle.innerText = "Holiday Edition üéÑ";
                if(communityTitle) {
                    communityTitle.classList.add('text-slate-900');
                    communityTitle.classList.remove('text-blue-200', 'text-glow');
                }
                if(communityDesc) {
                    communityDesc.classList.add('text-slate-600');
                    communityDesc.classList.remove('text-blue-400');
                }
                if(chatContainer) {
                    chatContainer.classList.add('bg-slate-50', 'ring-slate-100/50', 'shadow-2xl');
                    chatContainer.classList.remove('bg-slate-800/30', 'ring-blue-900/30', 'shadow-[0_0_30px_rgba(30,58,138,0.2)]', 'border-blue-900/50');
                }
            }
        }

        function updateCountdown(endTime) {
            const now = new Date();
            const diff = endTime - now;

            if (diff <= 0) {
                // Time is up!
                if (countdownInterval) clearInterval(countdownInterval);
                const timerEl = document.getElementById('wellness-countdown');
                if (timerEl) timerEl.innerText = "00d 00h 00m 00s";
                
                // Exit wellness mode immediately
                toggleWellnessMode(false);
                return;
            }

            const days = Math.floor(diff / (1000 * 60 * 60 * 24));
            const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((diff % (1000 * 60)) / 1000);

            const display = 
                (days < 10 ? "0" + days : days) + "d " +
                (hours < 10 ? "0" + hours : hours) + "h " + 
                (minutes < 10 ? "0" + minutes : minutes) + "m " + 
                (seconds < 10 ? "0" + seconds : seconds) + "s";
            
            const timerEl = document.getElementById('wellness-countdown');
            if (timerEl) timerEl.innerText = display;
        }

        function checkWellnessTime() {
            const now = new Date();
            const timeText = document.getElementById('wellness-hours-text');
            
            // Only Check Remote Schedule from Google Sheet (Col E & F)
            if (scheduledWellness) {
                // Formatting for display
                const startStr = scheduledWellness.start.toLocaleString([], {year: 'numeric', month:'short', day:'numeric', hour: 'numeric', minute:'2-digit'});
                const endStr = scheduledWellness.end.toLocaleString([], {year: 'numeric', month:'short', day:'numeric', hour: 'numeric', minute:'2-digit'});
                
                if (now >= scheduledWellness.start && now <= scheduledWellness.end) {
                    // Force ON
                    if (!document.body.classList.contains('wellness-active')) {
                        toggleWellnessMode(true);
                    }
                    if(timeText) timeText.innerText = `Scheduled Break: ${startStr} - ${endStr}`;

                    // Start Countdown if not running
                    if (!countdownInterval) {
                        updateCountdown(scheduledWellness.end); // Initial update
                        countdownInterval = setInterval(() => {
                            updateCountdown(scheduledWellness.end);
                        }, 1000);
                    }
                    return;
                }
            }

            // Default: Always OFF if no schedule matches
            if (document.body.classList.contains('wellness-active')) {
                toggleWellnessMode(false);
            }
            // Clear interval if we are not in wellness mode
            if (countdownInterval) {
                clearInterval(countdownInterval);
                countdownInterval = null;
            }
        }

        // Initialize (Wait for DOM)
        document.addEventListener('DOMContentLoaded', () => {
             // Safety timeout to remove loader if fetch hangs too long
             setTimeout(() => {
                 const loader = document.getElementById('initial-loader');
                 if(loader && !loader.classList.contains('opacity-0')) {
                     loader.classList.add('opacity-0');
                     setTimeout(() => loader.remove(), 700);
                 }
             }, 5000); // 5s fallback

             fetchStories();
             
             // Contact Form Logic
             const contactForm = document.getElementById('contactForm');
             if(contactForm) {
                 const btn = contactForm.querySelector('button[type="submit"]');
                 checkCooldown(btn); // Check on load

                 contactForm.addEventListener('submit', (e) => {
                     // ... (Form submission logic same as before)
                     const messageInput = document.getElementById('message');
                     const nameInput = document.getElementById('name');
                     const errorMessage = document.getElementById('errorMessage');
                     
                     if (hasFoulLanguage(messageInput.value) || hasFoulLanguage(nameInput.value)) {
                         e.preventDefault();
                         errorMessage.classList.remove('hidden');
                         const container = messageInput.closest('.bg-slate-50');
                         if(container) {
                             container.classList.add('ring-2', 'ring-red-300', 'bg-red-50');
                             setTimeout(() => {
                                 container.classList.remove('ring-2', 'ring-red-300', 'bg-red-50');
                                 errorMessage.classList.add('hidden');
                             }, 3000);
                         }
                         return;
                     }

                     const name = nameInput.value;
                     const message = messageInput.value;
                     const targetTime = Date.now() + COOLDOWN_MS;
                     localStorage.setItem(STORAGE_KEY, targetTime);
                     startTimer(btn, targetTime);
                     setTimeout(() => { messageInput.value = ''; }, 100);
                     const dateObj = new Date();
                     const timeString = dateObj.toLocaleTimeString([], { hour: 'numeric', minute: '2-digit' });
                     const dateGroup = "Today";
                     const newStory = { name: name, message: message, timestamp: timeString, dateGroup: dateGroup };
                     allStories.push(newStory);
                     initSpotlight([...allStories].reverse().slice(0, 5));
                     const grid = document.getElementById('stories-grid');
                     if(grid) {
                         if (grid.children[0] && grid.children[0].classList.contains('text-center')) grid.innerHTML = '';
                         grid.appendChild(createChatBubble(newStory));
                         grid.scrollTop = grid.scrollHeight;
                     }
                 });
             }

             // Load More
             const loadMoreBtn = document.getElementById('loadMoreBtn');
             if(loadMoreBtn) {
                 loadMoreBtn.addEventListener('click', loadMoreStories);
             }
        });

        /* --- BASIC SECURITY DETERRENTS --- */
        // 1. Disable Right Click
        document.addEventListener('contextmenu', (e) => {
            e.preventDefault();
        });

        // 2. Disable Keyboard Shortcuts (F12, Ctrl+Shift+I, Ctrl+U, etc.)
        document.addEventListener('keydown', (e) => {
            // F12
            if(e.key === 'F12' || e.keyCode === 123) {
                e.preventDefault();
                return false;
            }
            // Ctrl+Shift+I (Inspect)
            if(e.ctrlKey && e.shiftKey && (e.key === 'I' || e.key === 'i' || e.keyCode === 73)) {
                e.preventDefault();
                return false;
            }
            // Ctrl+Shift+C (Inspect Element)
            if(e.ctrlKey && e.shiftKey && (e.key === 'C' || e.key === 'c' || e.keyCode === 67)) {
                e.preventDefault();
                return false;
            }
            // Ctrl+Shift+J (Console)
            if(e.ctrlKey && e.shiftKey && (e.key === 'J' || e.key === 'j' || e.keyCode === 74)) {
                e.preventDefault();
                return false;
            }
            // Ctrl+U (View Source)
            if(e.ctrlKey && (e.key === 'U' || e.key === 'u' || e.keyCode === 85)) {
                e.preventDefault();
                return false;
            }
        });
    </script>
</body>
</html>
